<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Double Censoring · Discretize Distributions</title><meta name="title" content="Double Censoring · Discretize Distributions"/><meta property="og:title" content="Double Censoring · Discretize Distributions"/><meta property="twitter:title" content="Double Censoring · Discretize Distributions"/><meta name="description" content="Documentation for Discretize Distributions."/><meta property="og:description" content="Documentation for Discretize Distributions."/><meta property="twitter:description" content="Documentation for Discretize Distributions."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Discretize Distributions</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Discretize Distributions.jl</a></li><li class="is-active"><a class="tocitem" href>Double Censoring</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Double Censoring</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Double Censoring</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/GBarnsley/DiscretizeDistributions.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/GBarnsley/DiscretizeDistributions.jl/blob/main/docs/src/double_censoring.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Double-Censoring"><a class="docs-heading-anchor" href="#Double-Censoring">Double Censoring</a><a id="Double-Censoring-1"></a><a class="docs-heading-anchor-permalink" href="#Double-Censoring" title="Permalink"></a></h1><p>The motivation for this package is simplifying the simulation of continuous waiting time distributions in discrete time. For example say I have some complex dynamic model where after event <span>$A$</span> occurs there we know in the real world <span>$\mathrm{Gamma}(3.1, 2.1)$</span> is a good approximation for the time until event <span>$B$</span> occurs.</p><p>If I am running this model in discrete time with a relative time step of 0.1, I can use the following code to simulate this:</p><pre><code class="language-julia hljs">using DiscreteDistributions, Distributions, Random

continuous_waiting_time = truncated(Gamma(3.1, 2.1), upper = 20.0) #advisable to bound the distribution or manually trim tails (will be some [x, ∞) interval)])

time_step = 1//1
discrete_waiting_time = discretize(continuous_waiting_time, time_step, method = :left_aligned)
discrete_waiting_time.support ./= time_step</code></pre><p>Then discrete<em>waiting</em>time can be used to simulate the number of discrete steps until the event occurs, with each <span>$x ~ \mathrm{discrete_waiting_time}$</span> representing that the event occurs in the interval <span>$[x, x + 1)$</span></p><p>This approximates the continuous distribution well (after adjusting for left-alignment of the intervals): <img src="../assets/single_censoring.png" alt="Figure showing a histogram of samples from discrete_waiting_time against the pdf of the continuous distribution"/></p><p>Comparing summary values:</p><table><tr><th style="text-align: right">Summary</th><th style="text-align: right">Continuous Distribution</th><th style="text-align: right">Discrete Approximation</th></tr><tr><td style="text-align: right">Mean</td><td style="text-align: right">6.5</td><td style="text-align: right">6.5</td></tr><tr><td style="text-align: right">Median</td><td style="text-align: right">5.87</td><td style="text-align: right">5.5</td></tr><tr><td style="text-align: right">Variance</td><td style="text-align: right">12.23</td><td style="text-align: right">12.32</td></tr></table><p>Double censoring accounts for the idea that the time of event A (or another subsequent event is also censored this way). See these <a href="https://nfidd.github.io/sismid/sessions/biases-in-delay-distributions.html">slides</a> for a write up of this concept and the importance of account for it when estimating delay distributions. <a href="https://github.com/EpiAware/CensoredDistributions.jl">CensoredDistributions.jl</a> is a Julia implementation of this concept.</p><p>However <code>DiscretizeDistributions</code> is not intended for estimating/fitting the discretized distributions, rather it is a convenient wrapper for simulation from a fixed or known distribution. If we have event <span>$C$</span> that occurs after <span>$B$</span> with distribution <span>$\mathrm{Gamma}(3.1, 2.1)$</span> we can simulate this again like so:</p><pre><code class="language-julia hljs">continuous_waiting_time_two = truncated(Gamma(3.1, 2.1), lower = 1, upper = 100)

discrete_waiting_time_two = discretize(continuous_waiting_time_two, time_step, method = :left_aligned)
discrete_waiting_time_two.support ./= time_step</code></pre><p>This also approximates the continuous distribution reasonably well (after adjusting for left-alignment of the intervals): <img src="../assets/double_censoring.png" alt="Figure showing a histogram of samples from discrete_waiting_time and discrete_waiting_time_two compared to the histogram of the two continuous distributions"/></p><p>Comparing summary values:</p><table><tr><th style="text-align: right">Summary</th><th style="text-align: right">Continuous Distribution</th><th style="text-align: right">Discrete Approximation</th></tr><tr><td style="text-align: right">Mean</td><td style="text-align: right">13.06</td><td style="text-align: right">13.09</td></tr><tr><td style="text-align: right">Median</td><td style="text-align: right">12.43</td><td style="text-align: right">12.0</td></tr><tr><td style="text-align: right">Variance</td><td style="text-align: right">25.64</td><td style="text-align: right">25.8</td></tr></table><p>Hence I don&#39;t think double censoring matters that much for the use case of this package. We do end with the differences in the Medians and the in general the discrete approximation is slightly skewed to the right. A solution to this would be to try to discretize over both distributions and their convolution, but this hasn&#39;t been implemented yet.</p><p>See <code>examples/double_censoring.jl</code> for the script behind this analysis.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Discretize Distributions.jl</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Monday 29 September 2025 13:17">Monday 29 September 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
